"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.uniqWith = void 0;
var purry_1 = require("./purry");
var _reduceLazy_1 = require("./_reduceLazy");
var _toLazyIndexed_1 = require("./_toLazyIndexed");
function uniqWith() {
    return (0, purry_1.purry)(_uniqWith, arguments, uniqWith.lazy);
}
exports.uniqWith = uniqWith;
function _uniqWith(array, isEquals) {
    var lazy = uniqWith.lazy(isEquals);
    return (0, _reduceLazy_1._reduceLazy)(array, lazy, true);
}
function _lazy(isEquals) {
    return function (value, index, array) {
        if (array &&
            array.findIndex(function (otherValue) { return isEquals(value, otherValue); }) === index) {
            return {
                done: false,
                hasNext: true,
                next: value,
            };
        }
        return {
            done: false,
            hasNext: false,
        };
    };
}
(function (uniqWith) {
    uniqWith.lazy = (0, _toLazyIndexed_1._toLazyIndexed)(_lazy);
})(uniqWith = exports.uniqWith || (exports.uniqWith = {}));
